whatsTheScore
=============

<h4>What does it do?</h4>
The app uses the <a href='http://apps.washingtonpost.com/sports/'>Washington Post Sports API</a> to fetch and display stats from the 2013-2014 NFL regular season games. Visit <a href='http://iainmingo.com/'>iainmingo.com</a> to see for yourself.

<h4>How do I use the WaPo Sports API?</h4>
Since there's very little documentation explaining how to interact with the WaPo Sports API I had to do a little fishing. To retrieve stats for a specific game, the request URL has to include the 'gamecode' of the game in question (&gamecode=XXXXXXXX). How these 'gamecodes' are generated is not evident to me, so I queried the API and extracted the gamecodes from the JSON-formatted response. Here's the Python script I used:

```python
import json
import urllib.request

gameDCT = {}
gameidx = 0

for x in range(0, 31):
    offset = 729 + 8*x
    URL = 'http://apps.washingtonpost.com/sports/api/nfl/v2/games/?format=json&offset={}&limit=8'.format(offset)
    jsonurl = urllib.request.urlopen(URL) 
    data = json.loads(jsonurl.read().decode('utf-8'))
    
    for game in data['objects']:
        gameDCT[gameidx] = {'CODE': game['game_code'], 'HOME': game['home_team']['alias'], 'AWAY': game['away_team']['alias']}
        gameidx = gameidx + 1
```

The API appears to limit requests to 8 objects, so the calls were made in batches of 8. The response is decoded, dumped into a Python dictionary and then the necessary entries are extracted into a new dictionary.

<h4>How does it work?</h4>
The front-end is written using AngularJS and the back-end is written in Django. Django serves up static content while AngularJS does most of the heavy lifting. To circumvent HTTP Access Control, requests are made for data to be returned in JSONP format, which is then evaluated and fed into the scope by AngularJS. A factory serves as the link between the controller and the directives and employs rootScope broadcasts to notify directives when the fetched data is ready. Animations are handled by AngularJS, without using jQuery, and employ CSS3 transitions. The factory also employs a cache to speed up response time.

<h4>How did I build it?</h4>
I started with a scaffolding generated by Yeoman. Once the AngularJS app was running properly and interfacing with the API, I shifted the files to a local server running Django and finalized the UI. After that I pushed the whole project to github and from there transferred it onto a production server running Django.

<h4>Frameworks/libraries used</h4>
* Django 1.5.1
* Bootstrap CSS
* AngularJS 1.2
* Font Awesome

<h4>Tools</h4>
* SASS
* Sublime Text
* Git CLI
* Yeoman
* Bower


